(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7644)}])},7644:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Login}});var a=s(5893),n=s(7294);function Login(){let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[l,r]=(0,n.useState)("");async function submit(t){t.preventDefault(),r("");let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),n=await a.json();if(!a.ok){r(n.error||"Login failed");return}localStorage.setItem("token",n.token),localStorage.setItem("email",n.user.email),localStorage.setItem("tenant",n.user.tenant),localStorage.setItem("role",n.user.role),window.location.href="/"}return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,a.jsxs)("form",{onSubmit:submit,className:"space-x-2",children:[(0,a.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"border p-2"}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>o(e.target.value),className:"border p-2"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2",children:"Login"})]}),l&&(0,a.jsx)("p",{className:"text-red-500 mt-2",children:l}),(0,a.jsxs)("div",{className:"mt-4 text-sm",children:[(0,a.jsx)("p",{children:"Test accounts:"}),(0,a.jsx)("p",{children:"admin@acme.test / user@acme.test"}),(0,a.jsx)("p",{children:"admin@globex.test / user@globex.test"}),(0,a.jsx)("p",{children:"(password: password)"})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);